<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:jaxws="http://cxf.apache.org/jaxws"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd">

    <import resource="classpath:META-INF/cxf/cxf.xml" />
    <import resource="classpath:META-INF/cxf/cxf-extension-soap.xml" />
    <import resource="classpath:META-INF/cxf/cxf-servlet.xml" />

    <!--
        SOA Service Framework パラメータ定義です（必須定義）。        ・exceptionHandlerDebugMode ...
            クライアントにスローする例外にデバッグ用の情報を含めるかどうかの設定。            セキュリティホールになりうるため、運用時にはfalseに設定してください。        ・accessLogOutputEncoding ... アクセスログ（稼動ログ）の出力エンコーディング設定        ・accessLogDefaultIdentifier ... アクセスログ（稼動ログ）のデフォルト識別子        ・accessLogOutCategory ... アクセスログ（稼動ログ）のLog4j出力カテゴリ
        ・accessLogInvalidCategory ... アクセスログ（稼動ログ）の異常系データのLog4j出力カテゴリ
    -->
    <bean id="frameworkParameter" class="jp.co.isid.soa.framework.service.core.FrameworkParameterBean">
        <property name="exceptionHandlerDebugMode"><value>true</value></property>
        <property name="accessLogOutputEncoding"><value>Windows-31J</value></property>
        <!--<property name="accessLogDefaultIdentifier"><value></value></property>-->
        <property name="accessLogOutCategory"><value>soa.accessLog</value></property>
        <property name="accessLogInvalidCategory"><value>soa.invalidAccessLog</value></property>
    </bean>

    <!--
        Javaクライアント向けメッセージ圧縮フィルタの定義です（必須定義）。    -->
    <bean id="fastinfoset" class="org.apache.cxf.feature.FastInfosetFeature"/>

    <!-- NJSecurityServiceのサービス定義です（必須定義）。 -->
    <jaxws:endpoint id="njSecurityService"
        implementor="jp.co.isid.njsecurity.webservice.stateless.NJSecurityStatelessService"
        address="/NjSecurityService">
    </jaxws:endpoint>

    <!-- 以下サービスごとの定義です -->



<!-- 媒体 -->


   <jaxws:endpoint id="mediaService"
        implementor="jp.co.isid.ham.media.service.MediaService"
        address="/MediaService">
        <jaxws:inInterceptors>
            <ref bean="MediaServiceAccessLogInterceptor"/>
            <ref bean="MediaServiceACLInterceptor"/>
        </jaxws:inInterceptors>
        <jaxws:features>
            <ref bean="fastinfoset" />
        </jaxws:features>
    </jaxws:endpoint>

	<bean id="MediaServiceAccessLogInterceptor" class="jp.co.isid.soa.framework.service.interceptor.accesslog.AccessLogInterceptor">
        <property name="systemId"><value>apl00000</value></property>
        <property name="screenId"><value>scrn0004</value></property>
        <property name="functionId"><value>media</value></property>
    </bean>

    <bean id="MediaServiceACLInterceptor" class="jp.co.isid.soa.framework.service.interceptor.acl.ACLInterceptor">
        <property name="aclInfoList">
            <list>
                <bean class="jp.co.isid.soa.framework.service.interceptor.acl.ACLInfo">
                    <property name="systemId"><value>sys001</value></property>
                    <property name="accessKey"><value>key001</value></property>
                    <property name="allowMethods"><value>*</value></property>
                </bean>
            </list>
        </property>
    </bean>


<!-- 媒体 おわり -->



<!-- 制作 -->


   <jaxws:endpoint id="productionService"
        implementor="jp.co.isid.ham.production.service.ProductionService"
        address="/ProductionService">
        <jaxws:inInterceptors>
            <ref bean="ProductionServiceAccessLogInterceptor"/>
            <ref bean="ProductionServiceACLInterceptor"/>
        </jaxws:inInterceptors>
        <jaxws:features>
            <ref bean="fastinfoset" />
        </jaxws:features>
    </jaxws:endpoint>

	<bean id="ProductionServiceAccessLogInterceptor" class="jp.co.isid.soa.framework.service.interceptor.accesslog.AccessLogInterceptor">
        <property name="systemId"><value>apl00000</value></property>
        <property name="screenId"><value>scrn0004</value></property>
        <property name="functionId"><value>production</value></property>
    </bean>

    <bean id="ProductionServiceACLInterceptor" class="jp.co.isid.soa.framework.service.interceptor.acl.ACLInterceptor">
        <property name="aclInfoList">
            <list>
                <bean class="jp.co.isid.soa.framework.service.interceptor.acl.ACLInfo">
                    <property name="systemId"><value>sys001</value></property>
                    <property name="accessKey"><value>key002</value></property>
                    <property name="allowMethods"><value>*</value></property>
                </bean>
            </list>
        </property>
    </bean>


<!-- 制作 おわり -->


<!-- マスタメンテナンス -->


   <jaxws:endpoint id="masterMaintenanceService"
        implementor="jp.co.isid.ham.mastermaintenance.service.MasterMaintenanceService"
        address="/MasterMaintenanceService">
        <jaxws:inInterceptors>
            <ref bean="MasterMaintenanceServiceAccessLogInterceptor"/>
            <ref bean="MasterMaintenanceServiceACLInterceptor"/>
        </jaxws:inInterceptors>
        <jaxws:features>
            <ref bean="fastinfoset" />
        </jaxws:features>
    </jaxws:endpoint>

	<bean id="MasterMaintenanceServiceAccessLogInterceptor" class="jp.co.isid.soa.framework.service.interceptor.accesslog.AccessLogInterceptor">
        <property name="systemId"><value>apl00000</value></property>
        <property name="screenId"><value>scrn0004</value></property>
        <property name="functionId"><value>masterMaintenance</value></property>
    </bean>

    <bean id="MasterMaintenanceServiceACLInterceptor" class="jp.co.isid.soa.framework.service.interceptor.acl.ACLInterceptor">
        <property name="aclInfoList">
            <list>
                <bean class="jp.co.isid.soa.framework.service.interceptor.acl.ACLInfo">
                    <property name="systemId"><value>sys001</value></property>
                    <property name="accessKey"><value>key003</value></property>
                    <property name="allowMethods"><value>*</value></property>
                </bean>
            </list>
        </property>
    </bean>


<!-- マスタメンテナンス おわり -->


<!-- メニュー -->


   <jaxws:endpoint id="menuService"
        implementor="jp.co.isid.ham.menu.service.MenuService"
        address="/MenuService">
        <jaxws:inInterceptors>
            <ref bean="MenuServiceAccessLogInterceptor"/>
            <ref bean="MenuServiceACLInterceptor"/>
        </jaxws:inInterceptors>
        <jaxws:features>
            <ref bean="fastinfoset" />
        </jaxws:features>
    </jaxws:endpoint>

	<bean id="MenuServiceAccessLogInterceptor" class="jp.co.isid.soa.framework.service.interceptor.accesslog.AccessLogInterceptor">
        <property name="systemId"><value>apl00000</value></property>
        <property name="screenId"><value>scrn0004</value></property>
        <property name="functionId"><value>menu</value></property>
    </bean>

    <bean id="MenuServiceACLInterceptor" class="jp.co.isid.soa.framework.service.interceptor.acl.ACLInterceptor">
        <property name="aclInfoList">
            <list>
                <bean class="jp.co.isid.soa.framework.service.interceptor.acl.ACLInfo">
                    <property name="systemId"><value>sys001</value></property>
                    <property name="accessKey"><value>key004</value></property>
                    <property name="allowMethods"><value>*</value></property>
                </bean>
            </list>
        </property>
    </bean>


<!-- メニュー おわり -->


<!-- 共通 -->


   <jaxws:endpoint id="commonService"
        implementor="jp.co.isid.ham.common.service.CommonService"
        address="/CommonService">
        <jaxws:inInterceptors>
            <ref bean="CommonServiceAccessLogInterceptor"/>
            <ref bean="CommonServiceACLInterceptor"/>
        </jaxws:inInterceptors>
        <jaxws:features>
            <ref bean="fastinfoset" />
        </jaxws:features>
    </jaxws:endpoint>

	<bean id="CommonServiceAccessLogInterceptor" class="jp.co.isid.soa.framework.service.interceptor.accesslog.AccessLogInterceptor">
        <property name="systemId"><value>apl00000</value></property>
        <property name="screenId"><value>scrn0004</value></property>
        <property name="functionId"><value>common</value></property>
    </bean>

    <bean id="CommonServiceACLInterceptor" class="jp.co.isid.soa.framework.service.interceptor.acl.ACLInterceptor">
        <property name="aclInfoList">
            <list>
                <bean class="jp.co.isid.soa.framework.service.interceptor.acl.ACLInfo">
                    <property name="systemId"><value>sys001</value></property>
                    <property name="accessKey"><value>key005</value></property>
                    <property name="allowMethods"><value>*</value></property>
                </bean>
            </list>
        </property>
    </bean>


<!-- 共通 おわり -->


<!-- 請求 -->


   <jaxws:endpoint id="billingService"
        implementor="jp.co.isid.ham.billing.service.BillingService"
        address="/BillingService">
        <jaxws:inInterceptors>
            <ref bean="BillingServiceAccessLogInterceptor"/>
            <ref bean="BillingServiceACLInterceptor"/>
        </jaxws:inInterceptors>
        <jaxws:features>
            <ref bean="fastinfoset" />
        </jaxws:features>
    </jaxws:endpoint>

	<bean id="BillingServiceAccessLogInterceptor" class="jp.co.isid.soa.framework.service.interceptor.accesslog.AccessLogInterceptor">
        <property name="systemId"><value>apl00000</value></property>
        <property name="screenId"><value>scrn0004</value></property>
        <property name="functionId"><value>billing</value></property>
    </bean>

    <bean id="BillingServiceACLInterceptor" class="jp.co.isid.soa.framework.service.interceptor.acl.ACLInterceptor">
        <property name="aclInfoList">
            <list>
                <bean class="jp.co.isid.soa.framework.service.interceptor.acl.ACLInfo">
                    <property name="systemId"><value>sys001</value></property>
                    <property name="accessKey"><value>key006</value></property>
                    <property name="allowMethods"><value>*</value></property>
                </bean>
            </list>
        </property>
    </bean>


<!-- 請求 おわり -->


<!-- 稼働ログ -->

   <jaxws:endpoint id="operationLogService"
        implementor="jp.co.isid.ham.operationLog.service.OperationLogService"
        address="/OperationLogService">
        <jaxws:inInterceptors>
            <ref bean="OperationLogServiceAccessLogInterceptor"/>
            <ref bean="OperationLogServiceACLInterceptor"/>
        </jaxws:inInterceptors>
        <jaxws:features>
            <ref bean="fastinfoset" />
        </jaxws:features>
    </jaxws:endpoint>

	<bean id="OperationLogServiceAccessLogInterceptor" class="jp.co.isid.soa.framework.service.interceptor.accesslog.AccessLogInterceptor">
        <property name="systemId"><value>apl00000</value></property>
        <property name="screenId"><value>scrn0004</value></property>
        <property name="functionId"><value>operationLog</value></property>
    </bean>

    <bean id="OperationLogServiceACLInterceptor" class="jp.co.isid.soa.framework.service.interceptor.acl.ACLInterceptor">
        <property name="aclInfoList">
            <list>
                <bean class="jp.co.isid.soa.framework.service.interceptor.acl.ACLInfo">
                    <property name="systemId"><value>sys001</value></property>
                    <property name="accessKey"><value>key007</value></property>
                    <property name="allowMethods"><value>*</value></property>
                </bean>
            </list>
        </property>
    </bean>


<!-- 稼働ログ おわり -->

<!-- ログイン -->


   <jaxws:endpoint id="loginervice"
        implementor="jp.co.isid.ham.login.service.LoginService"
        address="/LoginService">
        <jaxws:inInterceptors>
            <ref bean="LoginServiceAccessLogInterceptor"/>
            <ref bean="LoginServiceACLInterceptor"/>
        </jaxws:inInterceptors>
        <jaxws:features>
            <ref bean="fastinfoset" />
        </jaxws:features>
    </jaxws:endpoint>

    <bean id="LoginServiceAccessLogInterceptor" class="jp.co.isid.soa.framework.service.interceptor.accesslog.AccessLogInterceptor">
        <property name="systemId"><value>apl00000</value></property>
        <property name="screenId"><value>scrn0004</value></property>
        <property name="functionId"><value>login</value></property>
    </bean>

    <bean id="LoginServiceACLInterceptor" class="jp.co.isid.soa.framework.service.interceptor.acl.ACLInterceptor">
        <property name="aclInfoList">
            <list>
                <bean class="jp.co.isid.soa.framework.service.interceptor.acl.ACLInfo">
                    <property name="systemId"><value>sys001</value></property>
                    <property name="accessKey"><value>key008</value></property>
                    <property name="allowMethods"><value>*</value></property>
                </bean>
            </list>
        </property>
    </bean>


<!-- ログイン おわり -->

</beans>
